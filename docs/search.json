[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Exam-01",
    "section": "",
    "text": "First, we read the data and take a look at some observations.\n\n\nCode\nworld = read_csv(\"data/world-3.csv\")\n\nworld |&gt; \n  sample_n(10) |&gt; \n  arrange(country) |&gt; \n  gt() |&gt; \n  fmt_number(\n    columns = c(6, 10, 11, 12),\n    decimals = 2\n  )\n\n\n\n\n\n\nTable¬†1:  Sample of (n=10) observations of the World data \n  \n    \n    \n      country\n      region\n      lifeexpf\n      lifeexpm\n      literacy\n      popincr\n      babymort\n      birthr\n      deathr\n      gdp\n      aidsr\n      bdratio\n      fertilty\n      literacym\n      literacyf\n    \n  \n  \n    Bangladesh\nPacific/Asia\n53\n53\n35\n2.40\n106.0\n35\n11\n2.31\n0.24\n3.18\n4.70\n47\n22\n    Botswana\nAfrica\n66\n60\n72\n2.70\n39.3\n32\n8\n3.43\n2.52\n4.00\n5.10\n32\n16\n    Canada\nOECD\n81\n74\n97\n0.70\n6.8\n14\n8\n4.30\n2.01\n1.75\n1.80\nNA\nNA\n    Gabon\nAfrica\n58\n52\n61\n1.46\n94.0\n28\n14\n3.63\n2.05\n2.00\n3.97\n74\n48\n    Honduras\nLatin America\n70\n65\n73\n2.73\n45.0\n35\n6\n3.01\n2.28\n5.83\n4.90\n76\n71\n    Italy\nOECD\n81\n74\n97\n0.21\n7.6\n11\n10\n4.24\n2.07\n1.10\n1.30\n98\n96\n    Nicaragua\nLatin America\n67\n61\n57\n2.68\n52.5\n35\n7\n2.65\n1.09\n5.00\n4.33\n57\n57\n    Panama\nLatin America\n78\n71\n88\n1.94\n16.5\n25\n5\n3.38\n1.90\n5.00\n2.90\n88\n88\n    Russia\nEast Europe\n74\n64\n99\n0.20\n27.0\n13\n11\n3.82\n0.62\n1.18\n1.83\n100\n100\n    Uzbekistan\nMiddle East\n72\n65\n97\n2.13\n53.0\n30\n7\n3.13\n0.39\n4.29\n3.73\n100\n100\n  \n  \n  \n\n\n\n\n\nThen, we make a description of all the numeric values.\n\n\nCode\nworld |&gt; \n  select(where(is.numeric)) |&gt; \n  skim() |&gt; \n  select(-1) |&gt; \n  arrange(skim_variable) |&gt; \n  gt() |&gt; \n  fmt_number(\n    columns = 3:10,\n    decimals = 2\n  ) |&gt; \n  cols_label(\n    skim_variable = \"variable\",\n    n_missing = \"missing\",\n    numeric.mean = \"mean\",\n    numeric.sd = \"std\",\n    numeric.p0 = \"p0\",\n    numeric.p25 = \"p25\",\n    numeric.p50 = \"p50\",\n    numeric.p75 = \"p75\",\n    numeric.p100 = \"p100\",\n    numeric.hist = \"histogram\"\n  ) |&gt; \n  cols_align(\n    columns = -1,\n    align = \"center\"\n  )\n\n\n\n\n\n\nTable¬†2:  Summary of numeric variables for the World data \n  \n    \n    \n      variable\n      missing\n      complete_rate\n      mean\n      std\n      p0\n      p25\n      p50\n      p75\n      p100\n      histogram\n    \n  \n  \n    aidsr\n3\n0.97\n1.38\n0.71\n0.00\n0.77\n1.38\n1.86\n3.18\n‚ñÉ‚ñá‚ñá‚ñÉ‚ñÇ\n    babymort\n0\n1.00\n42.31\n38.08\n4.00\n9.30\n27.70\n63.00\n168.00\n‚ñá‚ñÉ‚ñÅ‚ñÇ‚ñÅ\n    bdratio\n1\n0.99\n3.20\n2.12\n0.92\n1.54\n2.67\n4.18\n14.00\n‚ñá‚ñÉ‚ñÅ‚ñÅ‚ñÅ\n    birthr\n0\n1.00\n25.92\n12.36\n10.00\n14.00\n25.00\n35.00\n53.00\n‚ñá‚ñÉ‚ñÉ‚ñÉ‚ñÇ\n    deathr\n1\n0.99\n9.56\n4.25\n2.00\n6.85\n9.00\n11.00\n24.00\n‚ñÖ‚ñá‚ñÖ‚ñÅ‚ñÅ\n    fertilty\n2\n0.98\n3.56\n1.90\n1.30\n1.88\n3.05\n5.00\n8.19\n‚ñá‚ñÖ‚ñÇ‚ñÉ‚ñÅ\n    gdp\n0\n1.00\n3.42\n0.62\n2.09\n3.00\n3.48\n3.87\n4.37\n‚ñÉ‚ñÖ‚ñá‚ñá‚ñá\n    lifeexpf\n0\n1.00\n70.16\n10.57\n43.00\n67.00\n74.00\n78.00\n82.00\n‚ñÇ‚ñÇ‚ñÅ‚ñÖ‚ñá\n    lifeexpm\n0\n1.00\n64.92\n9.27\n41.00\n61.00\n67.00\n72.00\n76.00\n‚ñÇ‚ñÇ‚ñÇ‚ñá‚ñá\n    literacy\n2\n0.98\n78.34\n22.88\n18.00\n63.00\n88.00\n98.00\n100.00\n‚ñÅ‚ñÇ‚ñÇ‚ñÇ‚ñá\n    literacyf\n24\n0.78\n67.26\n28.61\n9.00\n45.00\n71.00\n93.00\n100.00\n‚ñÇ‚ñÇ‚ñÇ‚ñÉ‚ñá\n    literacym\n24\n0.78\n78.73\n20.45\n28.00\n63.00\n87.00\n96.00\n100.00\n‚ñÅ‚ñÅ‚ñÉ‚ñÇ‚ñá\n    popincr\n0\n1.00\n1.68\n1.20\n‚àí0.30\n0.52\n1.80\n2.68\n5.24\n‚ñá‚ñÖ‚ñá‚ñÉ‚ñÅ\n  \n  \n  \n\n\n\n\n\nWe see from Table¬†2 that some of the variables have missing data, specifically, the literacym and the literacyf variables have complete rate of 78%. Also, the standard deviation from each variable is in a different scale, ranging from 0.62 units in gdp to 38.08 units in babymort. This makes sense because some variables are in a log-scale.\n\n\n\n\n\n\nNote\n\n\n\nGiven this scenario of differences between scales and variability, we would prefer to perform the principal component analysis with the correlation matrix instead of the covariance matrix.\n\n\n\n\nWe perform two principal component analysis using: a) the covariance matrix and b) the correlation matrix.\n\n\nCode\n# get complete cases\nworld_complete = world |&gt; \n  drop_na()\n\n# for the covariance matrix\npca_cov = world_complete |&gt; \n  select(-c(1,2)) |&gt; \n  prcomp()\n\n# for the correlation matrix\npca_cor = world_complete |&gt; \n  select(-c(1,2)) |&gt; \n  prcomp(scale = TRUE)\n\n\nWe plot the differences for the two analysis using each method. The plots will contain the first two principal components.\n\n\nCode\ndata_p01 = tibble(var = colnames(world_complete)[-c(1,2)], pca_1 = pca_cov$rotation[,1], pca_2 = pca_cov$rotation[,2]) \n\ndata_p02 = tibble(var = colnames(world_complete)[-c(1,2)], pca_1 = pca_cor$rotation[,1], pca_2 = pca_cor$rotation[,2]) \n\np01 = data_p01 |&gt; \n  ggplot(aes(x = pca_1, y = pca_2, label= var)) +\n  geom_point(size = 4, color = \"red\") +\n  geom_label_repel(size = 4) +\n  xlim(c(-0.65, 0.50)) +\n  ylim(c(-0.65, 0.65)) +\n  xlab(\"PC1 (cov)\") +\n  ylab(\"PC2 (cov)\") +\n  theme_classic()\n\np02 = data_p02 |&gt; \n  ggplot(aes(x = pca_1, y = pca_2, label= var)) +\n  geom_point(size = 4, color = \"red\") +\n  geom_label_repel(size = 4) +\n  xlim(c(-0.65, 0.50)) +\n  ylim(c(-0.65, 0.65)) +\n  xlab(\"PC1 (cor)\") +\n  ylab(\"PC2 (cor)\") +\n  theme_classic()\n\np01 | p02 \n\n\n\n\n\nFigure¬†1: Plot of principal component loadings for the first two pcs using the covariance matrix (left) and the correlation matrix (right)\n\n\n\n\nBased on the results presented on Figure¬†1 we can conclude that the loadings across the two solutions differ (although the plot only presented the first two components for each solution, the same behavior, or a lesser extent of it, is observed on the remainder of the components). The right plot shows that the variables related to literacy have larger values on the first and second principal component than the other variables (except for babymort in the second component). This behavior matches the difference in standard deviation we see in Table¬†2. On the other hand, the left plot shows a more distributed pattern of the loadings, where no variable stands out from the rest. The difference between the loadings across the two solutions can be explain by the scale-dependency of the technique. Given this difference, I think it is more appropriate to analyze this dataset with the correlation matrix.\n\n\n\nTo investigate the number of necessary principal components to adequately describe the variability among the variables, several approaches will be taken.\n\nScree-plot & Kaiser rule\n\n\n\nCode\npca_cor |&gt; \n  tidy(matrix = \"eigenvalues\") |&gt; \n  mutate(lambda = std.dev * std.dev) |&gt; \n  ggplot(aes(PC, lambda)) +\n  geom_col(fill = \"#56B4E9\", alpha = 0.8) +\n  geom_abline(slope =  0, intercept = 1, linetype = \"dashed\", color = \"red\") +\n  xlab(\"PCA\") +\n  scale_x_continuous(breaks = 1:13) +\n  scale_y_continuous(\n       expand = expansion(mult = c(0, 0.01))\n    ) +\n  theme_minimal_hgrid(12)\n\n\n\n\n\nFigure¬†2: Scree plot and Kaiser rule (dotted red line)\n\n\n\n\nThe scree plot suggests that we need to extract two principal components, because at pca number 3 we notice the ‚Äúelbow‚Äù in the amount of variance explained. After the second component, the remainder principal components account for a negligible amount of variance. Plus, the Kaiser rule also suggest that we need to extract two principal components because only the first two have an eigenvalue greater than one.\n\nProportion of explained variance.\n\n\n\nCode\npca_cor |&gt; \n  tidy(matrix = \"eigenvalues\") |&gt;\n  mutate(per = round(percent * 100, 2),\n         per.cum = round(cumulative * 100, 2),\n         .keep = \"unused\") |&gt; \n  select(-std.dev) |&gt; \n  gt() |&gt; \n  cols_width(\n    per ~ px(120),\n    per.cum ~ px(120)\n  ) |&gt;\n  cols_label(\n    per = \"Percentage\",\n    per.cum = \"Cummulative\"\n  ) |&gt; \n  cols_align(\n    columns = -1,\n    align = \"center\"\n  )\n\n\n\n\n\n\nTable¬†3:  Proportion of variance explained (raw and cummulative) for each\nprincipal component (PC) \n  \n    \n    \n    \n  \n  \n    \n    \n      PC\n      Percentage\n      Cummulative\n    \n  \n  \n    1\n64.76\n64.76\n    2\n18.00\n82.75\n    3\n7.30\n90.05\n    4\n4.31\n94.36\n    5\n2.55\n96.92\n    6\n0.99\n97.91\n    7\n0.64\n98.55\n    8\n0.43\n98.98\n    9\n0.40\n99.37\n    10\n0.29\n99.66\n    11\n0.15\n99.81\n    12\n0.13\n99.94\n    13\n0.06\n100.00\n  \n  \n  \n\n\n\n\n\nBased on Table¬†3, the analysis indicates that two principal components explain over a 80% of the variance. Even thought is subjective, I believe that this percentage is good enough for this context. Also, two components explaining over a 80% in this analysis with 13 variables is acceptable/awesome üòÅ.\n\n\n\n\n\n\nNote\n\n\n\nThe three methods (scree-plot, Kaiser rule and proportion of variance explained) suggest that 2 principal components appear to be necessary to describe adequately the variability in these variables. The rest of the analysis will be done using two principal components.\n\n\n\n\n\nIn order to make interpretations of the two principal components, we will take a look at the loadings:\n\n\nCode\ndata_p02 |&gt; \n  gt() |&gt; \n  cols_width(\n    everything() ~ px(150)\n  ) |&gt; \n  cols_align(\n    columns = -1,\n    align = \"center\"\n  ) |&gt; \n  fmt_number(\n    columns = 2:3,\n    decimals = 2\n  ) |&gt; \n  cols_label(\n    var = \"Variable\",\n    pca_1 = \"PC1\",\n    pca_2 = \"PC2\"\n  )\n\n\n\n\n\n\nTable¬†4:  Loading of the first two principal components \n  \n    \n    \n    \n  \n  \n    \n    \n      Variable\n      PC1\n      PC2\n    \n  \n  \n    lifeexpf\n0.33\n‚àí0.15\n    lifeexpm\n0.31\n‚àí0.22\n    literacy\n0.32\n0.05\n    popincr\n‚àí0.23\n‚àí0.46\n    babymort\n‚àí0.33\n0.11\n    birthr\n‚àí0.32\n‚àí0.16\n    deathr\n‚àí0.23\n0.44\n    gdp\n0.27\n‚àí0.05\n    aidsr\n‚àí0.07\n0.24\n    bdratio\n‚àí0.03\n‚àí0.62\n    fertilty\n‚àí0.32\n‚àí0.15\n    literacym\n0.31\n0.07\n    literacyf\n0.32\n0.07\n  \n  \n  \n\n\n\n\n\nBased on Table¬†4 and its graphical representation in Figure¬†1 (right plot) we can interpret each principal component as follows:\n\nPrincipal Component 1: This component seems to be associated with general or overall development indicators. High positive scores on PC1 correlate with high GDP, high literacy rates (for both males and females), and higher life expectancy for both males and females. This suggests that countries with higher scores on PC1 are likely to be more developed, with stronger economies and better health and education systems. On the other hand, countries with low scores on PC1 exhibit higher rates of infant mortality (babymort), higher AIDS rates (aidsr), and higher birth rates (birthr). These are typical of less developed countries where healthcare and education systems are weaker and economic activity is lower.\nPrincipal Component 2: This component captures more demographic variables and aspects of population dynamics. Notably, countries with high scores on PC2 have higher death rates (deathr) and possibly lower population increases (popincr), indicating countries that may be experiencing either low birth rates, high mortality rates, or a combination of both. On the other end, countries with low scores on PC2 have higher fertility, birth rates (birthr), and a higher birth to death ratio (bdratio), suggesting these are countries with younger populations and potentially higher population growth due to these factors.\n\n\n\n\n\n\nCode\nworld_complete = pca_cor |&gt;\n  augment(world_complete)\n\nworld_complete |&gt; \n  mutate(Region = region) |&gt; \n  ggplot() +\n  geom_point(aes(x = .fittedPC1, y = .fittedPC2, color = Region), size = 3) +\n  xlab(\"PC1\") +\n  ylab(\"PC2\") +\n  scale_color_brewer(palette = \"Dark2\") +\n  theme_classic()\n\n\n\n\n\nFigure¬†3: Plot of principal component by region\n\n\n\n\nBased on Figure¬†3, there does appear to be an association between the component scores and the region a country belongs to. For instance:\n\nOECD and East Europe countries are generally clustered towards higher values on PC1. This suggests that these countries, which are typically more economically developed, have higher GDP, literacy rates, and life expectancy, characteristics that are positively correlated with PC1.\nAfrican countries are spread across both PC1 and PC2, but they are generally clustered towards lower PC1 values, indicating lower GDP, literacy rates, and life expectancy. The spread across PC2 might indicate variability in demographic patterns within the region, such as differences in birth and death rates.\nLatin American, Middle Eastern, and Pacific/Asian countries appear to be intermediate on PC1, which would suggest these regions have varying levels of development. They‚Äôre not as high as OECD or East Europe countries but not as low as many African countries.\nLatin American countries show a slight trend towards lower values on PC2, which could imply higher birth rates and fertility rates in these countries.\nMiddle Eastern and Pacific/Asian countries are scattered across both components, indicating a wide variety of economic, health, and demographic profiles within these regions.\n\n\n\n\nTo show that the weight vectors for the first two components are orthogonal, we first need to extract the weight vectors or loadings for the perform analysis:\n\nloadings = pca_cov$rotation\n\nThen we check the dot product for the first two loadings vectors\n\nround(sum(loadings[, 1] * loadings[, 2]), 3)\n\n[1] 0\n\n\nAs expected, this value is \\(0\\), showing that the weight or loadings for the first two components are orthogonal."
  },
  {
    "objectID": "index.html#descriptive-analysis",
    "href": "index.html#descriptive-analysis",
    "title": "Exam-01",
    "section": "",
    "text": "First, we read the data and take a look at some observations.\n\n\nCode\nworld = read_csv(\"data/world-3.csv\")\n\nworld |&gt; \n  sample_n(10) |&gt; \n  arrange(country) |&gt; \n  gt() |&gt; \n  fmt_number(\n    columns = c(6, 10, 11, 12),\n    decimals = 2\n  )\n\n\n\n\n\n\nTable¬†1:  Sample of (n=10) observations of the World data \n  \n    \n    \n      country\n      region\n      lifeexpf\n      lifeexpm\n      literacy\n      popincr\n      babymort\n      birthr\n      deathr\n      gdp\n      aidsr\n      bdratio\n      fertilty\n      literacym\n      literacyf\n    \n  \n  \n    Bangladesh\nPacific/Asia\n53\n53\n35\n2.40\n106.0\n35\n11\n2.31\n0.24\n3.18\n4.70\n47\n22\n    Botswana\nAfrica\n66\n60\n72\n2.70\n39.3\n32\n8\n3.43\n2.52\n4.00\n5.10\n32\n16\n    Canada\nOECD\n81\n74\n97\n0.70\n6.8\n14\n8\n4.30\n2.01\n1.75\n1.80\nNA\nNA\n    Gabon\nAfrica\n58\n52\n61\n1.46\n94.0\n28\n14\n3.63\n2.05\n2.00\n3.97\n74\n48\n    Honduras\nLatin America\n70\n65\n73\n2.73\n45.0\n35\n6\n3.01\n2.28\n5.83\n4.90\n76\n71\n    Italy\nOECD\n81\n74\n97\n0.21\n7.6\n11\n10\n4.24\n2.07\n1.10\n1.30\n98\n96\n    Nicaragua\nLatin America\n67\n61\n57\n2.68\n52.5\n35\n7\n2.65\n1.09\n5.00\n4.33\n57\n57\n    Panama\nLatin America\n78\n71\n88\n1.94\n16.5\n25\n5\n3.38\n1.90\n5.00\n2.90\n88\n88\n    Russia\nEast Europe\n74\n64\n99\n0.20\n27.0\n13\n11\n3.82\n0.62\n1.18\n1.83\n100\n100\n    Uzbekistan\nMiddle East\n72\n65\n97\n2.13\n53.0\n30\n7\n3.13\n0.39\n4.29\n3.73\n100\n100\n  \n  \n  \n\n\n\n\n\nThen, we make a description of all the numeric values.\n\n\nCode\nworld |&gt; \n  select(where(is.numeric)) |&gt; \n  skim() |&gt; \n  select(-1) |&gt; \n  arrange(skim_variable) |&gt; \n  gt() |&gt; \n  fmt_number(\n    columns = 3:10,\n    decimals = 2\n  ) |&gt; \n  cols_label(\n    skim_variable = \"variable\",\n    n_missing = \"missing\",\n    numeric.mean = \"mean\",\n    numeric.sd = \"std\",\n    numeric.p0 = \"p0\",\n    numeric.p25 = \"p25\",\n    numeric.p50 = \"p50\",\n    numeric.p75 = \"p75\",\n    numeric.p100 = \"p100\",\n    numeric.hist = \"histogram\"\n  ) |&gt; \n  cols_align(\n    columns = -1,\n    align = \"center\"\n  )\n\n\n\n\n\n\nTable¬†2:  Summary of numeric variables for the World data \n  \n    \n    \n      variable\n      missing\n      complete_rate\n      mean\n      std\n      p0\n      p25\n      p50\n      p75\n      p100\n      histogram\n    \n  \n  \n    aidsr\n3\n0.97\n1.38\n0.71\n0.00\n0.77\n1.38\n1.86\n3.18\n‚ñÉ‚ñá‚ñá‚ñÉ‚ñÇ\n    babymort\n0\n1.00\n42.31\n38.08\n4.00\n9.30\n27.70\n63.00\n168.00\n‚ñá‚ñÉ‚ñÅ‚ñÇ‚ñÅ\n    bdratio\n1\n0.99\n3.20\n2.12\n0.92\n1.54\n2.67\n4.18\n14.00\n‚ñá‚ñÉ‚ñÅ‚ñÅ‚ñÅ\n    birthr\n0\n1.00\n25.92\n12.36\n10.00\n14.00\n25.00\n35.00\n53.00\n‚ñá‚ñÉ‚ñÉ‚ñÉ‚ñÇ\n    deathr\n1\n0.99\n9.56\n4.25\n2.00\n6.85\n9.00\n11.00\n24.00\n‚ñÖ‚ñá‚ñÖ‚ñÅ‚ñÅ\n    fertilty\n2\n0.98\n3.56\n1.90\n1.30\n1.88\n3.05\n5.00\n8.19\n‚ñá‚ñÖ‚ñÇ‚ñÉ‚ñÅ\n    gdp\n0\n1.00\n3.42\n0.62\n2.09\n3.00\n3.48\n3.87\n4.37\n‚ñÉ‚ñÖ‚ñá‚ñá‚ñá\n    lifeexpf\n0\n1.00\n70.16\n10.57\n43.00\n67.00\n74.00\n78.00\n82.00\n‚ñÇ‚ñÇ‚ñÅ‚ñÖ‚ñá\n    lifeexpm\n0\n1.00\n64.92\n9.27\n41.00\n61.00\n67.00\n72.00\n76.00\n‚ñÇ‚ñÇ‚ñÇ‚ñá‚ñá\n    literacy\n2\n0.98\n78.34\n22.88\n18.00\n63.00\n88.00\n98.00\n100.00\n‚ñÅ‚ñÇ‚ñÇ‚ñÇ‚ñá\n    literacyf\n24\n0.78\n67.26\n28.61\n9.00\n45.00\n71.00\n93.00\n100.00\n‚ñÇ‚ñÇ‚ñÇ‚ñÉ‚ñá\n    literacym\n24\n0.78\n78.73\n20.45\n28.00\n63.00\n87.00\n96.00\n100.00\n‚ñÅ‚ñÅ‚ñÉ‚ñÇ‚ñá\n    popincr\n0\n1.00\n1.68\n1.20\n‚àí0.30\n0.52\n1.80\n2.68\n5.24\n‚ñá‚ñÖ‚ñá‚ñÉ‚ñÅ\n  \n  \n  \n\n\n\n\n\nWe see from Table¬†2 that some of the variables have missing data, specifically, the literacym and the literacyf variables have complete rate of 78%. Also, the standard deviation from each variable is in a different scale, ranging from 0.62 units in gdp to 38.08 units in babymort. This makes sense because some variables are in a log-scale.\n\n\n\n\n\n\nNote\n\n\n\nGiven this scenario of differences between scales and variability, we would prefer to perform the principal component analysis with the correlation matrix instead of the covariance matrix.\n\n\n\n\nWe perform two principal component analysis using: a) the covariance matrix and b) the correlation matrix.\n\n\nCode\n# get complete cases\nworld_complete = world |&gt; \n  drop_na()\n\n# for the covariance matrix\npca_cov = world_complete |&gt; \n  select(-c(1,2)) |&gt; \n  prcomp()\n\n# for the correlation matrix\npca_cor = world_complete |&gt; \n  select(-c(1,2)) |&gt; \n  prcomp(scale = TRUE)\n\n\nWe plot the differences for the two analysis using each method. The plots will contain the first two principal components.\n\n\nCode\ndata_p01 = tibble(var = colnames(world_complete)[-c(1,2)], pca_1 = pca_cov$rotation[,1], pca_2 = pca_cov$rotation[,2]) \n\ndata_p02 = tibble(var = colnames(world_complete)[-c(1,2)], pca_1 = pca_cor$rotation[,1], pca_2 = pca_cor$rotation[,2]) \n\np01 = data_p01 |&gt; \n  ggplot(aes(x = pca_1, y = pca_2, label= var)) +\n  geom_point(size = 4, color = \"red\") +\n  geom_label_repel(size = 4) +\n  xlim(c(-0.65, 0.50)) +\n  ylim(c(-0.65, 0.65)) +\n  xlab(\"PC1 (cov)\") +\n  ylab(\"PC2 (cov)\") +\n  theme_classic()\n\np02 = data_p02 |&gt; \n  ggplot(aes(x = pca_1, y = pca_2, label= var)) +\n  geom_point(size = 4, color = \"red\") +\n  geom_label_repel(size = 4) +\n  xlim(c(-0.65, 0.50)) +\n  ylim(c(-0.65, 0.65)) +\n  xlab(\"PC1 (cor)\") +\n  ylab(\"PC2 (cor)\") +\n  theme_classic()\n\np01 | p02 \n\n\n\n\n\nFigure¬†1: Plot of principal component loadings for the first two pcs using the covariance matrix (left) and the correlation matrix (right)\n\n\n\n\nBased on the results presented on Figure¬†1 we can conclude that the loadings across the two solutions differ (although the plot only presented the first two components for each solution, the same behavior, or a lesser extent of it, is observed on the remainder of the components). The right plot shows that the variables related to literacy have larger values on the first and second principal component than the other variables (except for babymort in the second component). This behavior matches the difference in standard deviation we see in Table¬†2. On the other hand, the left plot shows a more distributed pattern of the loadings, where no variable stands out from the rest. The difference between the loadings across the two solutions can be explain by the scale-dependency of the technique. Given this difference, I think it is more appropriate to analyze this dataset with the correlation matrix.\n\n\n\nTo investigate the number of necessary principal components to adequately describe the variability among the variables, several approaches will be taken.\n\nScree-plot & Kaiser rule\n\n\n\nCode\npca_cor |&gt; \n  tidy(matrix = \"eigenvalues\") |&gt; \n  mutate(lambda = std.dev * std.dev) |&gt; \n  ggplot(aes(PC, lambda)) +\n  geom_col(fill = \"#56B4E9\", alpha = 0.8) +\n  geom_abline(slope =  0, intercept = 1, linetype = \"dashed\", color = \"red\") +\n  xlab(\"PCA\") +\n  scale_x_continuous(breaks = 1:13) +\n  scale_y_continuous(\n       expand = expansion(mult = c(0, 0.01))\n    ) +\n  theme_minimal_hgrid(12)\n\n\n\n\n\nFigure¬†2: Scree plot and Kaiser rule (dotted red line)\n\n\n\n\nThe scree plot suggests that we need to extract two principal components, because at pca number 3 we notice the ‚Äúelbow‚Äù in the amount of variance explained. After the second component, the remainder principal components account for a negligible amount of variance. Plus, the Kaiser rule also suggest that we need to extract two principal components because only the first two have an eigenvalue greater than one.\n\nProportion of explained variance.\n\n\n\nCode\npca_cor |&gt; \n  tidy(matrix = \"eigenvalues\") |&gt;\n  mutate(per = round(percent * 100, 2),\n         per.cum = round(cumulative * 100, 2),\n         .keep = \"unused\") |&gt; \n  select(-std.dev) |&gt; \n  gt() |&gt; \n  cols_width(\n    per ~ px(120),\n    per.cum ~ px(120)\n  ) |&gt;\n  cols_label(\n    per = \"Percentage\",\n    per.cum = \"Cummulative\"\n  ) |&gt; \n  cols_align(\n    columns = -1,\n    align = \"center\"\n  )\n\n\n\n\n\n\nTable¬†3:  Proportion of variance explained (raw and cummulative) for each\nprincipal component (PC) \n  \n    \n    \n    \n  \n  \n    \n    \n      PC\n      Percentage\n      Cummulative\n    \n  \n  \n    1\n64.76\n64.76\n    2\n18.00\n82.75\n    3\n7.30\n90.05\n    4\n4.31\n94.36\n    5\n2.55\n96.92\n    6\n0.99\n97.91\n    7\n0.64\n98.55\n    8\n0.43\n98.98\n    9\n0.40\n99.37\n    10\n0.29\n99.66\n    11\n0.15\n99.81\n    12\n0.13\n99.94\n    13\n0.06\n100.00\n  \n  \n  \n\n\n\n\n\nBased on Table¬†3, the analysis indicates that two principal components explain over a 80% of the variance. Even thought is subjective, I believe that this percentage is good enough for this context. Also, two components explaining over a 80% in this analysis with 13 variables is acceptable/awesome üòÅ.\n\n\n\n\n\n\nNote\n\n\n\nThe three methods (scree-plot, Kaiser rule and proportion of variance explained) suggest that 2 principal components appear to be necessary to describe adequately the variability in these variables. The rest of the analysis will be done using two principal components.\n\n\n\n\n\nIn order to make interpretations of the two principal components, we will take a look at the loadings:\n\n\nCode\ndata_p02 |&gt; \n  gt() |&gt; \n  cols_width(\n    everything() ~ px(150)\n  ) |&gt; \n  cols_align(\n    columns = -1,\n    align = \"center\"\n  ) |&gt; \n  fmt_number(\n    columns = 2:3,\n    decimals = 2\n  ) |&gt; \n  cols_label(\n    var = \"Variable\",\n    pca_1 = \"PC1\",\n    pca_2 = \"PC2\"\n  )\n\n\n\n\n\n\nTable¬†4:  Loading of the first two principal components \n  \n    \n    \n    \n  \n  \n    \n    \n      Variable\n      PC1\n      PC2\n    \n  \n  \n    lifeexpf\n0.33\n‚àí0.15\n    lifeexpm\n0.31\n‚àí0.22\n    literacy\n0.32\n0.05\n    popincr\n‚àí0.23\n‚àí0.46\n    babymort\n‚àí0.33\n0.11\n    birthr\n‚àí0.32\n‚àí0.16\n    deathr\n‚àí0.23\n0.44\n    gdp\n0.27\n‚àí0.05\n    aidsr\n‚àí0.07\n0.24\n    bdratio\n‚àí0.03\n‚àí0.62\n    fertilty\n‚àí0.32\n‚àí0.15\n    literacym\n0.31\n0.07\n    literacyf\n0.32\n0.07\n  \n  \n  \n\n\n\n\n\nBased on Table¬†4 and its graphical representation in Figure¬†1 (right plot) we can interpret each principal component as follows:\n\nPrincipal Component 1: This component seems to be associated with general or overall development indicators. High positive scores on PC1 correlate with high GDP, high literacy rates (for both males and females), and higher life expectancy for both males and females. This suggests that countries with higher scores on PC1 are likely to be more developed, with stronger economies and better health and education systems. On the other hand, countries with low scores on PC1 exhibit higher rates of infant mortality (babymort), higher AIDS rates (aidsr), and higher birth rates (birthr). These are typical of less developed countries where healthcare and education systems are weaker and economic activity is lower.\nPrincipal Component 2: This component captures more demographic variables and aspects of population dynamics. Notably, countries with high scores on PC2 have higher death rates (deathr) and possibly lower population increases (popincr), indicating countries that may be experiencing either low birth rates, high mortality rates, or a combination of both. On the other end, countries with low scores on PC2 have higher fertility, birth rates (birthr), and a higher birth to death ratio (bdratio), suggesting these are countries with younger populations and potentially higher population growth due to these factors.\n\n\n\n\n\n\nCode\nworld_complete = pca_cor |&gt;\n  augment(world_complete)\n\nworld_complete |&gt; \n  mutate(Region = region) |&gt; \n  ggplot() +\n  geom_point(aes(x = .fittedPC1, y = .fittedPC2, color = Region), size = 3) +\n  xlab(\"PC1\") +\n  ylab(\"PC2\") +\n  scale_color_brewer(palette = \"Dark2\") +\n  theme_classic()\n\n\n\n\n\nFigure¬†3: Plot of principal component by region\n\n\n\n\nBased on Figure¬†3, there does appear to be an association between the component scores and the region a country belongs to. For instance:\n\nOECD and East Europe countries are generally clustered towards higher values on PC1. This suggests that these countries, which are typically more economically developed, have higher GDP, literacy rates, and life expectancy, characteristics that are positively correlated with PC1.\nAfrican countries are spread across both PC1 and PC2, but they are generally clustered towards lower PC1 values, indicating lower GDP, literacy rates, and life expectancy. The spread across PC2 might indicate variability in demographic patterns within the region, such as differences in birth and death rates.\nLatin American, Middle Eastern, and Pacific/Asian countries appear to be intermediate on PC1, which would suggest these regions have varying levels of development. They‚Äôre not as high as OECD or East Europe countries but not as low as many African countries.\nLatin American countries show a slight trend towards lower values on PC2, which could imply higher birth rates and fertility rates in these countries.\nMiddle Eastern and Pacific/Asian countries are scattered across both components, indicating a wide variety of economic, health, and demographic profiles within these regions.\n\n\n\n\nTo show that the weight vectors for the first two components are orthogonal, we first need to extract the weight vectors or loadings for the perform analysis:\n\nloadings = pca_cov$rotation\n\nThen we check the dot product for the first two loadings vectors\n\nround(sum(loadings[, 1] * loadings[, 2]), 3)\n\n[1] 0\n\n\nAs expected, this value is \\(0\\), showing that the weight or loadings for the first two components are orthogonal."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  }
]